pool:
  vmImage: ubuntu-latest

stages:
  - stage: 'Req install'
    jobs:
    - job: install
      steps:
      - script: echo Install the requirements.txt dependencies!
        displayName: 'Install the requirements.txt dependencies'
      - script: |
         python -m pip install -r requirements.txt
         displayName: 'Install the requirements.txt dependencies'

  - stage: 'BlackDuck_Code_Scan'
    jobs:
    - job: detect
      steps:
      - task: SynopsysDetectTask@9
        inputs:
          BlackDuckService: 'BlackDuck'
          DetectArguments: |
            --detect.project.name=requirements  
            --detect.project.version.name=azure1 
            --blackduck.trust.cert=true  
            --detect.detector.search.depth=100  
            --detect.tools=DETECTOR  
            --detect.detector.search.continue=true
          DetectVersion: 'latest'  